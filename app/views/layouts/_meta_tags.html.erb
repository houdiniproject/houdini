<%- # License: AGPL-3.0-or-later WITH Web-Template-Output-Additional-Permission-3.0-or-later -%>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<% title = "We help organizations raise more money, more sustainably." %>

<% description = "Robust and user-friendly nonprofit fundraising tools. Campaigns, donor management, donation processing and event ticketing." %>

<title><%= yield :title_prefix %><%= Settings.general.name %> <%= content_for?(:title_suffix) ? yield(:title_suffix) : "| #{title}" %>
</title>

<% if content_for?(:meta_description) %>
  <meta name="description" content="<%= yield :meta_description %>" />
<% else %>
  <meta name="description" content="<%= description %>"/>
<% end %>

<meta property="fb:app_id" content="<%= ENV.fetch('FACEBOOK_APP_ID') %>" />
<meta property="og:site_name" content="<%=Settings.general.name%>" />
<meta property="og:url" content="<%= request.original_url %>" />
<meta property="og:type" content="website" />

<% if content_for?(:facebook_tags) %>
  <%= yield :facebook_tags %>
<% else %>
  <meta property="og:title" content="<%=Settings.general.name%> | <%= title %>"/>
  <meta property="og:description" content="<%= description %>">
  <meta property="og:image" content="<%= Image::DefaultProfileUrl %>" />
<% end %>

<meta property="twitter:card" content="summary" />
<meta property="twitter:site" content="@CommitChange" />

<% if content_for?(:twitter_tags) %>
  <%= yield :twitter_tags %>
<% else %>
  <meta property="twitter:title" content="<%=Settings.general.name%> | <%= title %>">
  <meta property="twitter:description" content="<%= description %>"/>
<% end %>


<% if Rails.env == 'development' %>
  <script defer data-domain="commitchange.com" src="https://plausible.io/js/plausible.compat.local.js" id="plausible"></script>
<% else %>
  <script defer data-domain="commitchange.com" src="https://plausible.io/js/plausible.compat.js" id="plausible"></script>
<% end%>
<script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>

<%= yield :recaptcha_js %>


<%= csrf_meta_tags %>
<%= favicon_link_tag %>

